<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Turtle Signal Dashboard</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
</head>
<body>
    <div class="container">
        <div class="header" aria-live="polite">
            <h1>ğŸ¢ Turtle Signal Dashboard</h1>
            {% if last_updated %}
            <div class="last-updated">
                ë§ˆì§€ë§‰ ì—…ë°ì´íŠ¸: {{ last_updated.strftime('%Y-%m-%d %H:%M:%S') }}
            </div>
            {% else %}
            <div class="last-updated">
                ë°ì´í„°ë¥¼ ë¶ˆëŸ¬ì˜¤ëŠ” ì¤‘...
            </div>
            {% endif %}
        </div>
        
        <div class="systems-container">
            <!-- System 1 -->
            <div class="system-section system1">
                <div class="system-header">
                    í„°í‹€ System 1 (ë‹¨ê¸°)
                    <div class="stock-count">{{ system1_stocks|length }}ê°œ ì¢…ëª©</div>
                </div>
                
                {% if system1_stocks %}
                <div class="table-responsive">
                    <table class="stock-table">
                        <thead>
                            <tr>
                                <th scope="col">ì¢…ëª©ì½”ë“œ</th>
                                <th scope="col">ì¢…ëª©ëª…</th>
                                <th scope="col">í˜„ì¬ê°€</th>
                                <th scope="col">ë“±ë½ë¥ </th>
                                <th scope="col">ê±°ë˜ëŸ‰</th>
                            </tr>
                        </thead>
                        <tbody>
                            {% for stock in system1_stocks %}
                            <tr>
                                <td class="stock-code">{{ stock.code }}</td>
                                <td class="stock-name">{{ stock.name }}</td>
                                <td class="price">{{ stock.current ? "{:,}".format(stock.current|int) : '-' }}</td>
                                <td class="price {% if stock.rate and stock.rate|float > 0 %}positive{% elif stock.rate and stock.rate|float < 0 %}negative{% else %}neutral{% endif %}">
                                    {{ stock.rate ? stock.rate ~ '%' : '-' }}
                                </td>
                                <td class="volume">{{ stock.volume ? "{:,}".format(stock.volume|int) : '-' }}</td>
                            </tr>
                            {% endfor %}
                        </tbody>
                    </table>
                </div>
                {% else %}
                <div class="no-data">System 1 ì‹ í˜¸ê°€ ê°ì§€ëœ ì¢…ëª©ì´ ì—†ìŠµë‹ˆë‹¤.</div>
                {% endif %}
            </div>
            
            <!-- System 2 -->
            <div class="system-section system2">
                <div class="system-header">
                    í„°í‹€ System 2 (ì¥ê¸°)
                    <div class="stock-count">{{ system2_stocks|length }}ê°œ ì¢…ëª©</div>
                </div>
                
                {% if system2_stocks %}
                <div class="table-responsive">
                    <table class="stock-table">
                        <thead>
                            <tr>
                                <th scope="col">ì¢…ëª©ì½”ë“œ</th>
                                <th scope="col">ì¢…ëª©ëª…</th>
                                <th scope="col">í˜„ì¬ê°€</th>
                                <th scope="col">ë“±ë½ë¥ </th>
                                <th scope="col">ê±°ë˜ëŸ‰</th>
                            </tr>
                        </thead>
                        <tbody>
                            {% for stock in system2_stocks %}
                            <tr>
                                <td class="stock-code">{{ stock.code }}</td>
                                <td class="stock-name">{{ stock.name }}</td>
                                <td class="price">{{ stock.current ? "{:,}".format(stock.current|int) : '-' }}</td>
                                <td class="price {% if stock.rate and stock.rate|float > 0 %}positive{% elif stock.rate and stock.rate|float < 0 %}negative{% else %}neutral{% endif %}">
                                    {{ stock.rate ? stock.rate ~ '%' : '-' }}
                                </td>
                                <td class="volume">{{ stock.volume ? "{:,}".format(stock.volume|int) : '-' }}</td>
                            </tr>
                            {% endfor %}
                        </tbody>
                    </table>
                </div>
                {% else %}
                <div class="no-data">System 2 ì‹ í˜¸ê°€ ê°ì§€ëœ ì¢…ëª©ì´ ì—†ìŠµë‹ˆë‹¤.</div>
                {% endif %}
            </div>
        </div>
    </div>
    
    <!-- ìƒˆë¡œê³ ì¹¨ ë²„íŠ¼ -->
    <button class="refresh-btn" aria-label="ìƒˆë¡œê³ ì¹¨">ğŸ”„ ìƒˆë¡œê³ ì¹¨</button>
    
    <!-- ë©”ì¸ JS -->
    <script src="{{ url_for('static', filename='js/main.js') }}"></script>
</body>
</html>
